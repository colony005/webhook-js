/*! webhook - v - 2014-02-11
* https://github.com//webhook
* Copyright (c) 2014 ; Licensed MIT */
!function(){"use strict";["uploadUrl","uploadSite","uploadToken"].forEach(function(a){localStorage.getItem(a)&&$("#"+a).val(localStorage.getItem(a)),$("#"+a).on("change",function(){localStorage.setItem(a,$(this).val())})}),$("[data-upload]:input").on({"dragenter.wh.upload":function(){$(this).data("upload").$dropzone.addClass("wh-form-upload-drop")},"dragleave.wh.upload":function(){$(this).data("upload").$dropzone.removeClass("wh-form-upload-drop")},"dragdrop.wh.upload":function(){$(this).data("upload").$dropzone.removeClass("wh-form-upload-drop")},"error.wh.upload":function(a,b){$(this).data("upload").$dropzone.removeClass("wy-form-uploading"),window.alert(b)},"start.wh.upload":function(){$(".wy-form-upload-container").show(),$(".wy-form-upload-url").hide(),$(this).data("upload").options.uploadUrl=$("#uploadUrl").val(),$(this).data("upload").options.uploadSite=$("#uploadSite").val(),$(this).data("upload").options.uploadToken=$("#uploadToken").val(),$(this).data("upload").$dropzone.addClass("wy-form-uploading"),$(this).data("upload").$dropzone.find(".image-error").hide(),$(this).data("upload").$dropzone.find(".image-loading p").html("Uploading <span>0%</span>")},"thumb.wh.upload":function(a,b){var c=$(this).data("upload").$dropzone;c.find(".wy-form-upload-image").remove(),$('<div class="wy-form-upload-image">').append(b).prependTo(c)},"progress.wh.upload":function(a,b){100>b?$(this).data("upload").$dropzone.find(".image-loading span").html("Uploading <span>"+b+"%</span>"):$(this).data("upload").$dropzone.find(".image-loading span").text("Finishing up...")},"load.wh.upload":function(a,b){$(this).data("upload").$dropzone.removeClass("wy-form-uploading"),$(this).data("upload").$element.val(b.url)}}),$(".wy-form-upload-url .upload-url").on("click",function(){$("[data-upload]:input").upload("upload",$("#url").val()),$("#url").val("")}),$(".upload-method-toggle").on("click",function(){$(".wy-form-upload-container, .wy-form-upload-url").toggle()})}();